<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<title>Payment Receipt — Surya Car Pool</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

	<style>
		/* ---------- Background ---------- */
		body {
			min-height: 100vh;
			background: linear-gradient(135deg, #667eea, #764ba2);
			font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
			padding: 32px 12px;
		}

		/* ---------- Receipt Card ---------- */
		.receipt-wrap {
			max-width: 980px;
			margin: auto;
		}

		.hero-card {
			background: linear-gradient(180deg, #ffffff, #f8f9ff);
			border-radius: 20px;
			padding: 28px;
			box-shadow: 0 30px 80px rgba(0, 0, 0, 0.25);
			animation: fadeInUp .6s ease;
		}

		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(20px);
			}

			to {
				opacity: 1;
				transform: none;
			}
		}

		/* ---------- Brand ---------- */
		.brand-row {
			display: flex;
			align-items: center;
			gap: 12px;
		}

		.brand-mark {
			width: 42px;
			height: 42px;
			border-radius: 12px;
			background: linear-gradient(135deg, #ff6b6b, #ffd166);
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 0 8px 20px rgba(0, 0, 0, 0.18);
		}

		.brand-mark img {
			max-width: 26px;
			max-height: 26px;
			object-fit: contain;
		}

		/* ---------- Status ---------- */
		.status-badge {
			display: inline-flex;
			align-items: center;
			gap: 6px;
			padding: 8px 14px;
			border-radius: 999px;
			font-weight: 700;
			background: linear-gradient(90deg, #38ef7d, #11998e);
			color: white;
			box-shadow: 0 8px 20px rgba(17, 153, 142, 0.35);
		}

		/* ---------- Amount ---------- */
		.amount-pill {
			font-size: 1.6rem;
			font-weight: 800;
			padding: 10px 22px;
			border-radius: 999px;
			background: linear-gradient(90deg, #ff8a00, #ff3d00);
			color: white;
			box-shadow: 0 12px 28px rgba(255, 61, 0, 0.35);
		}

		/* ---------- Layout ---------- */
		.details-grid {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 20px;
			margin-top: 16px;
		}

		@media (max-width: 900px) {
			.details-grid {
				grid-template-columns: 1fr;
			}
		}

		.line-muted {
			color: #6c757d;
		}

		/* ---------- Invoice ---------- */
		.invoice-table {
			width: 100%;
			margin-top: 14px;
			border-collapse: collapse;
		}

		.invoice-table th {
			background: linear-gradient(90deg, #f1f3ff, #ffffff);
			padding: 12px;
			text-align: left;
			border-radius: 8px;
		}

		.invoice-table td {
			padding: 12px;
			border-bottom: 1px dashed rgba(0, 0, 0, 0.1);
		}

		/* ---------- Actions ---------- */
		.actions {
			display: flex;
			gap: 12px;
			flex-wrap: wrap;
			margin-top: 12px;
		}
	</style>
</head>

<body>
	<div class="receipt-wrap">

		<div class="hero-card">
			<div class="d-flex justify-content-between align-items-start flex-wrap">

				<!-- BRAND -->
				<div>
					<div class="brand-row">
						<div class="brand-mark">
							<img th:src="@{/images/logo.png}" alt="Surya Car Pool Logo" />
						</div>
						<div>
							<div class="h5 mb-0">Surya Car Pool</div>
							<div class="line-muted small">Payment Receipt</div>
						</div>
					</div>

					<div class="mt-3">
						<div class="h4 fw-bold">
							Receipt #
							<span th:text="${payment.id}">PAY-001</span>
						</div>
						<div class="line-muted">
							<strong>Date:</strong>
							<span th:text="${#temporals.format(payment.createdAt, 'dd MMM yyyy, hh:mm a')}">—</span>
						</div>
					</div>
				</div>

				<!-- STATUS & AMOUNT -->
				<div class="text-end mt-2">
					<div class="status-badge">✓ PAYMENT SUCCESS</div>
					<div class="mt-3 amount-pill">
						₹ <span th:text="${payment.amount}">0.00</span>
					</div>
				</div>

				<hr class="my-4" />

				<!-- DETAILS -->
				<div class="details-grid">

					<div>
						<h6>Customer</h6>
						<strong th:text="${payment.customerName}">Customer</strong>
						<div class="line-muted" th:text="${payment.email}"></div>
						<div class="line-muted" th:text="${payment.phone}"></div>

						<div class="mt-3">
							<h6>Pickup</h6>
							<div th:text="${payment.pickupLocation}">Pickup Location</div>
						</div>
					</div>

					<div>
						<h6>Booking</h6>
						<div><strong>Car ID:</strong> <span th:text="${payment.carId}">1</span></div>
						<div class="mt-2">
							<strong>Payment method:</strong>
							<span th:text="${payment.paymentMethod}">CARD</span>
						</div>

						<div class="mt-3">
							<h6>Transaction</h6>
							<div><strong>Txn ID:</strong> <span th:text="${payment.id}"></span></div>
							<div class="line-muted">Gateway: MockGateway</div>
						</div>
					</div>

				</div>

				<!-- INVOICE -->
				<div class="mt-4">
					<table class="invoice-table">
						<thead>
							<tr>
								<th>Description</th>
								<th style="text-align:right">Amount</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Booking Amount</td>
								<td style="text-align:right">₹ <span th:text="${payment.amount}">0.00</span></td>
							</tr>
							<tr>
								<td><strong>Total Paid</strong></td>
								<td style="text-align:right;font-weight:800">
									₹ <span th:text="${payment.amount}">0.00</span>
								</td>
							</tr>
						</tbody>
					</table>
				</div>

				<!-- ACTIONS -->
				<div class="d-flex justify-content-between align-items-center flex-wrap mt-4">
					<div class="line-muted small">
						Need help? <a href="mailto:support@surya-car-pool.example">support@surya-car-pool.example</a>
					</div>

					<div class="actions">
						<button class="btn btn-outline-dark" onclick="window.print()">Print / Save PDF</button>
						<button class="btn btn-warning text-white" onclick="downloadReceipt()">Download</button>
						<button class="btn btn-info text-white" onclick="shareReceipt()">Share</button>
						<a th:href="@{/}" class="btn btn-primary">Back to Home</a>
					</div>
				</div>

			</div>
		</div>
	</div>

	<script>
		function downloadReceipt() {
			const blob = new Blob([document.documentElement.outerHTML], {type: "text/html"});
			const url = URL.createObjectURL(blob);
			const a = document.createElement("a");
			a.href = url;
			a.download = "payment-receipt.html";
			a.click();
			URL.revokeObjectURL(url);
		}

		async function shareReceipt() {
			if (navigator.share) {
				await navigator.share({
					title: "Payment Receipt",
					text: "Surya Car Pool - Payment Successful",
					url: window.location.href
				});
			} else {
				alert("Sharing not supported on this device.");
			}
		}
	</script>

</body>

</html>