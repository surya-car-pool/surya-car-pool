<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Login - Surya Car Pool</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

	<style>
		:root {
			--accent: #0d6efd;
			--glass-bg: rgba(255, 255, 255, 0.08);
			--card-bg: rgba(255, 255, 255, 0.85);
			--muted: #6c757d;
		}

		html,
		body {
			height: 100%;
		}

		body {
			margin: 0;
			font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
			background: radial-gradient(1200px 600px at 10% 10%, rgba(13, 110, 253, 0.08), transparent 8%),
				radial-gradient(900px 400px at 90% 90%, rgba(25, 135, 84, 0.06), transparent 8%),
				linear-gradient(180deg, #f3f7fb, #eef3f7 40%, #ffffff 100%);
			-webkit-font-smoothing: antialiased;
			display: flex;
			align-items: center;
			justify-content: center;
			min-height: 100vh;
			padding: 2rem;
		}

		.shape {
			position: absolute;
			border-radius: 50%;
			filter: blur(40px);
			opacity: .35;
			z-index: 0
		}

		.shape.s1 {
			width: 360px;
			height: 360px;
			left: -120px;
			top: -80px;
			background: linear-gradient(135deg, #ffd166, #ef476f)
		}

		.shape.s2 {
			width: 300px;
			height: 300px;
			right: -100px;
			bottom: -120px;
			background: linear-gradient(135deg, #06d6a0, #118ab2)
		}

		.login-wrap {
			position: relative;
			z-index: 2;
			max-width: 980px;
			width: 100%;
		}

		.hero {
			display: grid;
			grid-template-columns: 1fr 420px;
			gap: 2rem;
			align-items: center;
		}

		.panel-left {
			padding: 2.5rem 2rem;
			border-radius: 20px;
			background: linear-gradient(180deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.4));
			box-shadow: 0 10px 30px rgba(16, 24, 40, 0.08);
		}

		.brand {
			display: flex;
			gap: 1rem;
			align-items: center;
			margin-bottom: 1rem;
		}

		.brand .logo {
			width: 64px;
			height: 64px;
			border-radius: 14px;
			background: linear-gradient(135deg, var(--accent), #6610f2);
			display: flex;
			align-items: center;
			justify-content: center;
			color: #fff;
			font-weight: 700;
			font-size: 1.15rem;
			box-shadow: 0 6px 20px rgba(13, 110, 253, 0.18);
		}

		.panel-right {
			background: var(--card-bg);
			border-radius: 18px;
			padding: 1.25rem;
			box-shadow: 0 8px 30px rgba(9, 30, 63, 0.08);
		}

		.card-title {
			font-weight: 700;
			letter-spacing: 0.2px
		}

		.muted-small {
			color: var(--muted)
		}

		.feature-list {
			list-style: none;
			padding: 0;
			margin: 1rem 0 0 0
		}

		.feature-list li {
			display: flex;
			gap: .75rem;
			align-items: flex-start;
			margin-bottom: .75rem
		}

		.feature-list i {
			font-size: 1.15rem;
			margin-top: 3px;
			color: var(--accent)
		}

		.nav-tabs .nav-link {
			border: 0;
			padding: .6rem 1rem;
			border-radius: 8px
		}

		.nav-tabs .nav-link.active {
			background: linear-gradient(90deg, var(--accent), #6610f2);
			color: #fff
		}

		.form-control {
			border-radius: 10px;
			padding: .8rem
		}

		.btn-primary {
			border-radius: 10px;
			padding: .7rem 1rem
		}

		.btn-alt {
			border-radius: 10px
		}

		.social-row a {
			display: inline-flex;
			align-items: center;
			gap: .5rem;
			border-radius: 10px;
			padding: .55rem 0.75rem;
			border: 1px solid rgba(0, 0, 0, 0.06);
			text-decoration: none;
			color: inherit
		}

		.small-muted {
			color: #98a0aa;
			font-size: .85rem
		}

		footer {
			margin-top: 1rem;
			text-align: center;
			color: var(--muted)
		}

		@media (max-width:900px) {
			.hero {
				grid-template-columns: 1fr;
			}

			.panel-left {
				order: 2
			}

			.panel-right {
				order: 1
			}
		}

		.fade-in {
			animation: fadeInUp .6s ease both
		}

		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(8px)
			}

			to {
				opacity: 1;
				transform: none
			}
		}

		.navbar-custom {
			background: rgba(15, 23, 42, 0.95);
			backdrop-filter: blur(8px);
		}

		.nav-link i {
			color: rgb(255, 128, 64);
			margin-right: 4px;
		}
	</style>
</head>

<body>
	<div class="shape s1"></div>
	<div class="shape s2"></div>

	<div class="login-wrap container fade-in">
		<div class="hero">

			<!-- Left marketing panel -->
			<div class="panel-left">
				<div class="brand">
					<div class="logo p-0" style="background:none; box-shadow:none;">
						<img src="/images/logo.png" alt="Surya Car Pool"
							style="width:70px; height:70px; border-radius:14px; object-fit:contain;" />
					</div>
					<div>
						<h2 class="h4 mb-0">Surya Car Pool</h2>
						<p class="small-muted mb-0">Smart, safe & social commuting</p>
					</div>
				</div>

				<h3 class="mb-2">ðŸ‘‹ Welcomes you...!!</h3>
				<p class="muted-small">Share rides, save money and reduce traffic â€” all with a few taps. Sign in below
					or create an account.</p>

				<ul class="feature-list mt-3">
					<li><i class="bi bi-check-lg"></i> Verified riders & safety ratings</li>
					<li><i class="bi bi-check-lg"></i> Real-time route matching</li>
					<li><i class="bi bi-check-lg"></i> Eco-friendly commute options</li>
				</ul>

				<div class="mt-4 social-row d-flex gap-2">
					<a href="#" class="d-inline-flex align-items-center"><i class="bi bi-chat-left-dots"></i>
						Support</a>
					<a href="#" class="d-inline-flex align-items-center"><i class="bi bi-info-circle"></i> How it
						works</a>
				</div>

				<p class="mt-4 small text-muted">Download our app (coming soon)</p>
			</div>

			<!-- Right login/register panel -->
			<div class="panel-right">
				<div class="card-body p-0">
					<h3 class="card-title text-center mb-1">Sign in or Register</h3>
					<p class="text-center small-muted mb-3">Quick access to rides and groups</p>

					<!-- Friendly Spring Security messages -->
					<div th:if="${param.error}" class="alert alert-danger py-2 px-3 mx-2">
						We couldnâ€™t find an account with that email/phone and password.
						<br />
						<span class="small">
							Please check your details, or
							<a href="#new" data-bs-toggle="tab">create a new account</a>.
						</span>
					</div>

					<div th:if="${param.logout}" class="alert alert-success py-2 px-3 mx-2">
						Youâ€™ve been logged out successfully.
					</div>

					<div th:if="${param.registered}" class="alert alert-success py-2 px-3 mx-2">
						Registration successful! You can now log in with your email/phone and password.
					</div>

					<!-- Nav tabs -->
					<ul class="nav nav-tabs mb-3" id="loginTabs" role="tablist">
						<li class="nav-item" role="presentation">
							<button class="nav-link active" id="existing-tab" data-bs-toggle="tab"
								data-bs-target="#existing" type="button" role="tab">Existing User</button>
						</li>
						<li class="nav-item" role="presentation">
							<button class="nav-link" id="new-tab" data-bs-toggle="tab" data-bs-target="#new"
								type="button" role="tab">New User</button>
						</li>
					</ul>

					<div class="tab-content">
						<!-- Existing User -->
						<div class="tab-pane fade show active" id="existing" role="tabpanel">
							<!-- Spring Security login: identifier + password -->
							<form th:action="@{/login}" method="post">
								<div class="mb-3">
									<label class="form-label">Email or Phone</label>
									<input id="identifier" name="identifier" class="form-control"
										placeholder="email or phone number" required>
								</div>
								<div class="mb-3">
									<label class="form-label">Password</label>
									<input id="password" name="password" type="password" class="form-control"
										placeholder="Enter your password" required>
								</div>
								<div class="d-grid mb-3">
									<button class="btn btn-primary" type="submit">
										<i class="bi bi-box-arrow-in-right"></i> Login
									</button>
								</div>

								<div class="d-flex justify-content-between align-items-center small-muted">
									<div>
										<input id="remember" type="checkbox">
										<label for="remember" class="mb-0">Remember me</label>
									</div>
									<a href="#" class="small">Forgot?</a>
								</div>
							</form>
						</div>

						<!-- New User -->
						<div class="tab-pane fade" id="new" role="tabpanel">
							<!-- Registration: regName, regEmail, regPhone, regPassword -->
							<form th:action="@{/register}" method="post">
								<div class="mb-3">
									<label class="form-label">Full Name</label>
									<input id="regName" name="regName" class="form-control" placeholder="Your full name"
										required>
								</div>
								<div class="mb-3">
									<label class="form-label">Email</label>
									<input id="regEmail" name="regEmail" type="email" class="form-control"
										placeholder="you@example.com" required>
								</div>
								<div class="mb-3">
									<label class="form-label">Phone</label>
									<input id="regPhone" name="regPhone" type="tel" class="form-control"
										placeholder="9999999999" required>
								</div>
								<div class="mb-3">
									<label class="form-label">Password</label>
									<input id="regPassword" name="regPassword" type="password" class="form-control"
										placeholder="Create a strong password" required>
								</div>
								<div class="d-grid mb-3">
									<button class="btn btn-success" type="submit">
										<i class="bi bi-person-plus"></i> Register
									</button>
								</div>
								<div class="text-center small-muted">
									By registering you agree to our <a href="#">Terms</a>
								</div>
							</form>
						</div>
					</div>

					<div class="mt-3 text-center">
						<a href="/home" class="btn btn-alt btn-link">ðŸ‘‹ Welcome â€” Back to Home</a>
					</div>
				</div>
			</div>

		</div>

		<footer>
			<p class="mb-0">Â© Surya Car Pool â€” <span class="small-muted">Ride together, reduce traffic</span></p>
		</footer>

	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>