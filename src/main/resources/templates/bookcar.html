<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/extras/spring-security">

<head>
	<meta charset="UTF-8">
	<title>Surya Car Pool | Book a Self-Drive Car</title>

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

	<style>
		:root {
			--primary: #0d6efd;
			--accent: #6610f2;
			--orange: #ff9800;
			--green: #28a745;
			--max-width: 1200px;
		}

		body {
			font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto;
			background: linear-gradient(180deg, #f8fafc 0%, #eef2ff 100%);
		}

		.navbar-custom {
			background: rgba(15, 23, 42, 0.95);
			backdrop-filter: blur(8px);
		}

		/* PAGE HERO */
		.page-hero {
			max-width: var(--max-width);
			margin: 2rem auto;
			padding: 2.5rem;
			border-radius: 22px;
			background: linear-gradient(135deg, #0d6efd, #6610f2);
			color: #fff;
			text-align: center;
		}

		.page-hero span {
			color: #ffd166;
		}

		/* TRUST STRIP */
		.trust-strip {
			max-width: var(--max-width);
			margin: 1.5rem auto;
			padding: 1.2rem;
			background: #fff;
			border-radius: 16px;
			box-shadow: 0 10px 30px rgba(0, 0, 0, .08);
		}

		.trust-item i {
			font-size: 28px;
			margin-bottom: 6px;
		}

		/* CAR CARD */
		.car-card {
			border: 0;
			border-radius: 18px;
			box-shadow: 0 12px 30px rgba(0, 0, 0, .08);
			height: 100%;
			transition: transform .2s ease;
		}

		.car-card:hover {
			transform: translateY(-6px);
		}

		.badge-seats {
			background: linear-gradient(90deg, var(--primary), var(--accent));
			color: #fff;
		}

		/* Navbar icons - copied from Bookings page */
		.nav-link i {
			color: rgb(255, 128, 64);
			margin-right: 4px;
		}
	</style>
</head>

<body>

	<!-- NAVBAR -->
	<nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
		<div class="container">
			<a class="navbar-brand d-flex align-items-center brand-logo" href="/home" aria-label="Surya Car Pool home">
				<svg class="brand-svg" viewBox="0 0 64 64" xmlns="/images/logo.png" role="img"
					aria-labelledby="logoTitle logoDesc">
					<title id="logoTitle">Surya Car Pool logo</title>
					<desc id="logoDesc">Sun rising above a road â€” Surya Car Pool</desc>
					<img src="/images/logo.png" alt="Surya Car Pool"
						style="width:70px; height:70px; border-radius:14px; object-fit:contain;" />
					<rect width="64" height="64" rx="10" fill="url(#g1)" />
					<circle cx="20" cy="18" r="8" fill="#fff5d6" />
					<path d="M6 44 C18 38,46 38,58 44 L58 50 C46 44,18 44,6 50 Z" fill="#0f1724" />
					<g stroke="#ffd166" stroke-width="1.8" stroke-linecap="round">
						<path d="M12 43 L16 43" stroke-dasharray="4 3" />
						<path d="M24 42 L28 42" stroke-dasharray="4 3" />
						<path d="M36 42 L40 42" stroke-dasharray="4 3" />
						<path d="M48 43 L52 43" stroke-dasharray="4 3" />
					</g>
					<path d="M18 36 h10 l3-5 h8 l3 5 h3 v3 h-30 v-3 z" fill="#fff" />
				</svg>

				<div class="d-flex flex-column">
					<span class="brand-title text-white">Surya Car Pool</span>
					<span class="brand-tagline text-white-50">Self Drive Cars Provider</span>
				</div>

				<span class="ms-3 badge bg-white text-dark align-self-start" style="font-weight:600">Trusted</span>
			</a>

			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navMain">
				<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link" href="/home">
							<i class="bi bi-house-door-fill"></i> Home
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/users/ui">
							<i class="bi bi-people-fill"></i> Users
						</a>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="/rides/ui">
							<i class="bi bi-car-front-fill"></i> Rides
						</a>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="/bookings/ui">
							<i class="bi bi-journal-check"></i> Bookings
						</a>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="/aboutus/ui">
							<i class="bi bi-info-circle-fill"></i> About Us
						</a>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="/contactus/ui">
							<i class="bi bi-envelope-fill"></i> Contact Us
						</a>
					</li>
				</ul>

				<!-- AUTH AREA: Login / Logout -->
				<div class="d-flex align-items-center ms-3">
					<!-- Show when logged in -->
					<span class="text-white me-3" sec:authorize="isAuthenticated()">
						Hello,
						<strong th:text="${#authentication.principal.name} ?: 'User'">User</strong>
					</span>

					<!-- Login button (only for anonymous users) -->
					<a class="btn btn-outline-light btn-sm me-2" href="/login" sec:authorize="isAnonymous()">
						<i class="bi bi-box-arrow-in-right"></i> Login
					</a>

					<!-- Logout button (only for authenticated users) -->
					<form th:action="@{/logout}" method="post" class="d-inline" sec:authorize="isAuthenticated()">
						<button type="submit" class="btn btn-light btn-sm">
							<i class="bi bi-box-arrow-right"></i> Logout
						</button>
					</form>
				</div>
			</div>
		</div>
	</nav>

	<!-- HERO -->
	<section class="page-hero">
		<h1 class="fw-bold">
			Choose Your <span>Perfect Self-Drive Car</span>
		</h1>
		<p class="lead mt-3">
			Verified vehicles â€¢ Transparent pricing â€¢ Complete driving freedom
		</p>

		<a href="/home" class="btn btn-outline-light mt-3">
			<i class="bi bi-arrow-left"></i> Back to Home
		</a>
	</section>

	<!-- TRUST STRIP -->
	<section class="trust-strip">
		<div class="row text-center">
			<div class="col-md-3 trust-item">
				<i class="bi bi-shield-check text-primary"></i>
				<div class="fw-semibold">Verified Cars</div>
				<small class="text-muted">Owner & vehicle verified</small>
			</div>

			<div class="col-md-3 trust-item">
				<i class="bi bi-cash-stack text-success"></i>
				<div class="fw-semibold">No Hidden Charges</div>
				<small class="text-muted">Clear pricing policy</small>
			</div>

			<div class="col-md-3 trust-item">
				<i class="bi bi-speedometer2 text-warning"></i>
				<div class="fw-semibold">Drive Freely</div>
				<small class="text-muted">No driver restrictions</small>
			</div>

			<div class="col-md-3 trust-item">
				<i class="bi bi-geo-alt-fill text-info"></i>
				<div class="fw-semibold">Local Support</div>
				<small class="text-muted">Community-driven service</small>
			</div>
		</div>
	</section>

	<!-- AVAILABLE CARS -->
	<main class="container my-5" style="max-width:1200px">

		<h2 class="text-center mb-4">
			Available Cars for Self-Drive
		</h2>

		<!-- No cars -->
		<div th:if="${#lists.isEmpty(cars)}" class="alert alert-info text-center">
			ðŸš— No self-drive cars are available right now. Please check again later.
		</div>

		<!-- Cars grid -->
		<div class="row g-4" th:if="${!#lists.isEmpty(cars)}">

			<div class="col-md-4" th:each="car : ${cars}">
				<div class="card car-card">

					<div class="card-body">
						<h5 class="card-title fw-bold" th:text="${car.make} + ' ' + ${car.model}">
							Car Name
						</h5>

						<p class="small text-muted mb-2">
							<i class="bi bi-fuel-pump text-success"></i>
							<span th:text="${car.fuelType}"></span>
							&nbsp;Â·&nbsp;
							<i class="bi bi-gear text-warning"></i>
							<span th:text="${car.transmissionType}"></span>
						</p>

						<span class="badge badge-seats" th:text="${car.seats} + ' Seats'">
							Seats
						</span>

						<p class="mt-3 mb-1 fs-5">
							<strong class="text-success">
								â‚¹ <span th:text="${car.perDayRent}">0</span>
							</strong>
							<small class="text-muted">/ day</small>
						</p>

						<p class="small text-muted mb-0">
							<i class="bi bi-person-badge"></i>
							Owner:
							<span th:text="${car.owner != null ? car.owner.name : 'N/A'}">Owner</span>
						</p>
					</div>

					<div class="card-footer bg-white border-0 d-flex justify-content-between align-items-center">
						<small class="text-muted">
							ID: <span th:text="${car.id}">1</span>
						</small>

						<a th:if="${car.status == T(com.surya.carpool.model.CarStatus).AVAILABLE}"
							th:href="@{/bookings/ui(carId=${car.id})}" class="btn btn-primary btn-sm">
							<i class="bi bi-credit-card"></i> Book Now
						</a>

						<button th:if="${car.status == T(com.surya.carpool.model.CarStatus).BOOKED}"
							class="btn btn-secondary btn-sm" disabled>
							<i class="bi bi-lock-fill"></i> Booked
						</button>
					</div>

				</div>
			</div>

		</div>
	</main>

	<!-- FOOTER -->
	<footer class="bg-dark text-light mt-5">
		<div class="container py-4 text-center small" style="color:brown">
			Â© Surya Car Pool â€“ 2025 Â· All rights reserved
		</div>
	</footer>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>